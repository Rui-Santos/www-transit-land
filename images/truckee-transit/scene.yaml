import: https://mapzen.com/carto/zinc-style/zinc-style.yaml
#import: https://mapzen.com/carto/bubble-wrap-style/4/bubble-wrap.yaml

sources:
    mapzen:
        type: TopoJSON
        url: https://vector.mapzen.com/osm/all/{z}/{x}/{y}.topojson
    tart:
        type: GeoJSON
        url: https://transit.land/api/v1/routes.geojson?operated_by=o-9qfx-tahoeareametroaltransit
    express:
        type: GeoJSON
        url: https://transit.land/api/v1/routes.geojson?operated_by=o-9qfx-northlaketahoeexpress~24houradvancereservationsrequired
    bluego:
        type: GeoJSON
        url: https://transit.land/api/v1/routes.geojson?operated_by=o-9qft-bluego
    stops:
        type: GeoJSON
        url: https://transit.land/api/v1/stops.geojson?served_by=o-9qfx-tahoeareametroaltransit

styles:
    text-overlay:
        base: text
        #texture: pois
        interactive: true
        blend: overlay
        blend_order: 3
    point-overlay:
        base: points
        #texture: pois
        interactive: true
        blend: inlay
        blend_order: 3

layers:
    tart:
        data: { source: tart,}
        filter:
            $zoom: { min: 8, max: 20 }
        draw:
            lines:
                order: 499
                width: 5px
#                color: [0.290, 0.290, 0.835, 1.00]
                color: [0.871, 0.259, 0.439, 1.00]
            # outlines:
            #     style: lines
            #     order: 4
            #     color: [0.498, 0.216, 0.757, 1.00]
            #     width: 4px
            #     order: 498

    mainline:
        data:
            source: tart
        filter: { name: "TART Mainline" }
        draw:
            lines:
                order: 400
                width: 10px
                color: [0.000, 0.090, 1.000, 1.00]
            # outlines:
            #     style: lines
            #     color: aqua
            #     width: 4px
            #     order: 599
    bluego:
        data:
            source: bluego
        draw:
            lines:
                order: 400
                width: 4px
                color: [0.459, 0.776, 0.235, 1.00]
            # outlines:
            #     style: lines
            #     color: aqua
            #     width: 4px
            #     order: 599

    express:
        data:
            source: express
        draw:
            lines:
                order: 600
                width: 2px
                color: [1.000, 0.933, 0.263, 1.00]
            # outlines:
            #     style: lines
            #     color: aqua
            #     width: 4px
            #     order: 599

    # label:
    #     data:
    #         source: stops
    #     draw:
    #         points1:
    #             order: 400
    #             style: points
    #             collide: false
    #             color:  [0,0,1,0.9]
    #             size: 20px
    #         points2:
    #             order: 399
    #             style: points
    #             collide: false
    #             color: [1,1,0,.8]
    #             size: 14px
            # left:
            #     style: text-overlay
            #     collide: false
            #     anchor: left
            #     offset: [-15px,0px]
            #     font:
            #         family: Helvetica
            #         size: 12px
            #         fill: yellow
            #         stroke:
            #             color: black
            #             width: 3.5